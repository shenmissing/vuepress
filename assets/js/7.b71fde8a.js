(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{265:function(a,t,s){a.exports=s.p+"assets/img/img0.489f2ccb.jpg"},266:function(a,t,s){a.exports=s.p+"assets/img/img1.11c23bc4.png"},267:function(a,t,s){a.exports=s.p+"assets/img/img2.59a4cac2.png"},294:function(a,t,s){"use strict";s.r(t);var r=s(3),e=Object(r.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"热力图heatmap-js使用中的思路解析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#热力图heatmap-js使用中的思路解析"}},[a._v("#")]),a._v(" 热力图heatmap.js使用中的思路解析")]),a._v(" "),r("h4",{attrs:{id:"heatmap-js官网地址"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#heatmap-js官网地址"}},[a._v("#")]),a._v(" "),r("a",{attrs:{href:"https://www.patrick-wied.at/static/heatmapjs/",target:"_blank",rel:"noopener noreferrer"}},[a._v("heatmap.js官网地址"),r("OutboundLink")],1)]),a._v(" "),r("h2",{attrs:{id:"_1、需求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1、需求"}},[a._v("#")]),a._v(" 1、需求")]),a._v(" "),r("p",[a._v("  使用heatmap.js制作热力图，反映人群分布情况。")]),a._v(" "),r("h2",{attrs:{id:"_2、问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2、问题"}},[a._v("#")]),a._v(" 2、问题")]),a._v(" "),r("p",[a._v("  热力图需要的数据：坐标 + 人数 + max人数， 从后台能拿到的数据总共只有12条，要怎么更加准确、效果更加地显示整个区域的人群分布呢？")]),a._v(" "),r("h2",{attrs:{id:"_3、壹解"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3、壹解"}},[a._v("#")]),a._v(" 3、壹解")]),a._v(" "),r("p",[a._v("  用12条数据，12个坐标的话，每个点的半径就是超级超级大，人流分布无法详尽，效果很明显无法满足需求。×")]),a._v(" "),r("h2",{attrs:{id:"_4、贰解"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_4、贰解"}},[a._v("#")]),a._v(" 4、贰解")]),a._v(" "),r("p",[a._v("  整个区域分成12部分，每部分都有一个各自的总人数。而每部分根据实际人数占比划分为2-3小部分，如下图所示：\n"),r("img",{attrs:{src:s(265),alt:"11"}})]),a._v(" "),r("p",[a._v("  根据画图的点的数量：")]),a._v(" "),r("p",[a._v("  第一区域area1 上下比例为3:7，top上部点数量为 6 的话，bottom下部点的数量就为 6/3*7 = 14，上下部分点的半径一致，并均匀分布，然后根据area1内的点总数，计算每个点的value，以此类推。最后根据整区域的平均值（后台数据）除以 12个区域点的平均数 得到 max值，从而成功画出热力图。（因是后面整理的笔记，故无效果图）")]),a._v(" "),r("p",[a._v("  后经过测试，与实际情况并不相符，差别甚大。×")]),a._v(" "),r("h2",{attrs:{id:"_5、叁解"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_5、叁解"}},[a._v("#")]),a._v(" 5、叁解")]),a._v(" "),r("p",[a._v("  改变方式，根据画图的点的值：")]),a._v(" "),r("p",[a._v("  在第一区域area1内，均匀分布点的坐标（通过后面自我测试，发现横向两点间距最佳为半径的一半，纵向间距为半径距离），例如半径为50，area1点坐标为：（因背景底图上会有建筑物部分，热力图不能覆盖，故无法使用代码计算坐标）\n"),r("img",{attrs:{src:s(266),alt:"11"}})]),a._v(" "),r("p",[a._v("area1总人数为m，area1上部分人数：m * 30%，下部分人数：m * 70% 。每个点的value为，上部分： m * 30%，下部分： m * 70% ， max：area1的平均值（后台数据）  ， 成功达到预期效果，与实际情况也是90%吻合")]),a._v(" "),r("p",[a._v("最终效果图：\n"),r("img",{attrs:{src:s(267),alt:"11"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);